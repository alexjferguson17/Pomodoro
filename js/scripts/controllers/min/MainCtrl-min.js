!function(){function t(t,e){function a(){0==o.timer?(o.state="breaktime",o.count+=1,r.play(),t.cancel(i),o.timer=TIMER):o.timer--}function n(){0===o["break"]?(o.state="paused",t.cancel(s),o["break"]=2,r.play(),3===o.count&&(o["break"]=1800)):o["break"]--}TIMER=10;var r=new buzz.sound("/sounds/ding.mp3",{preload:!0}),o=this;o.count=0,o.timer=TIMER,o["break"]=5,o.state="paused";var i,s;this.startTimer=function(){4===o.count&&(o.count=0),o.state="going",i=t(a,1e3)},this.startBreak=function(){s=t(n,1e3)},o.reset=function(){o.timer=TIMER,t.cancel(i),o.state="paused"},o.doSomething=function(){o.tasks.$add({name:o.newTask,createdAt:Date.now()})};var c=new Firebase("https://brilliant-torch-5995.firebaseio.com/");window.foo=o.tasks=e(c)}angular.module("blocPom").controller("MainCtrl",["$interval","$firebaseArray",t])}();